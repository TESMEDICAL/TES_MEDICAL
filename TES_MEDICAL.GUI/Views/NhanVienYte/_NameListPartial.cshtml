


@model IPagedList<NhanVienYte>

@using X.PagedList.Mvc.Core;


@using X.PagedList;
@using X.PagedList.Web.Common

<style>
    .list-table {
        min-height: 400px
    }

    list-table table {
        border: 1px solid gray;
    }

    #thead {
        background-color: rgb(82, 183, 136);
        color: white;
    }

    .table-btn a:hover {
        transform: scale(1.075)
    }

    .btn-edit {
        background-color: rgb(17, 138, 178);
    }

    .btn-delete {
        background-color: rgb(17, 138, 178);
    }

    .btn-infomation {
        background-color: rgb(17, 138, 178);
    }

    .table-btn a i {
        color: white;
    }

    .listname-img {
        width: 100px;
        height: 100px;
        object-fit: cover;
        object-position: center center;
    }
</style>

<div id="list" >
   
    <div class="list-table" style="min-height:400px">
        <table class="table table table-striped table-bordered text-left w-100 " style="font-size:small">
                <tr id="thead">                                               
                    <th class="col-2">
                        Họ tên
                    </th>
                                                                       
                    <th class="col-2">
                        Số điện thoại
                    </th>
                                                                       
                    <th class="col-1 text-center">
                        Chức vụ
                    </th>
                                                                       
                    <th class="col-2 text-center"> 
                        Trạng thái
                    </th>
                                                                       
                    <th class="col-2 text-center">
                        Hình ảnh
                    </th>
                                                                       
                    <th class="col-1 text-center">
                        Chuyên khoa
                    </th>
                                                              
                    <th class="col-2 text-center">Thao tác</th>
                </tr>
            <tbody class="tbody">
                @foreach (var item in ViewBag.Names as IEnumerable<NhanVienYte>)
                {
                    <tr>
                        <td class="col-2">@item.HoTen</td>

                        <td class="col-2">@item.PhoneNumber</td>

                        <td class="col-1 text-center">
                            @if (item.ChucVu == 1)
                            {
                                @("Nhân viên y tế")
                            }
                            else if (item.ChucVu == 2)
                            {
                                @("Bác sĩ")
                            }
                            else
                            {
                                @("Dược sĩ")
                            }
                        </td>

                        <td class="col-2 text-center">@item.TrangThai</td>

                        <td class="col-2 text-center">
                            <img class="listname-img" src="~/images/@item.Hinh" />
                        </td>
                        
                        <td class="col-1 text-center">@(item.ChucVu==2?item.ChuyenKhoaNavigation.TenCK:"Không có")</td>

                        <td class="table-btn text-nowrap col-2 text-center">
                            <a class="btn-delete btn btn-sm active" onclick="_delete('@item.Id')"> <i class="fa fa-trash"></i></a>&nbsp;
                            <a class="btn-infomation btn btn-sm active" onclick="_Detail('@item.Id')" title="Thông tin"> <i class="fa fa-info-circle" aria-hidden="true"></i></a>
                        </td>

                    </tr>
                }
            </tbody>
        </table>
    </div>
    
    
    <div class="text-right">
      
                        @{ 
                            var pageRender = new PagedListRenderOptions
                            {
                               MaximumPageNumbersToDisplay = 5,
                                DisplayLinkToPreviousPage = PagedListDisplayMode.Always,
                                DisplayLinkToFirstPage = PagedListDisplayMode.Never,
                                DisplayLinkToLastPage = PagedListDisplayMode.Never,
                                DisplayLinkToNextPage = PagedListDisplayMode.Always,
                                DisplayPageCountAndCurrentLocation = false,
                                UlElementClasses = new[] { "pagination" },
                                LiElementClasses = new string[] { "page-item" },
                                PageClasses = new string[] { "page-link" },


                                ContainerDivClasses = new[] { "pagination-container" }


                            };
                         } 
         @{ 
            var searchModel = ViewBag.Data as NhanVienYteSearchModel;
        }
       
             
        @Html.PagedListPager((IPagedList<NhanVienYte>)ViewBag.Names, page => Url.Action("PageList", new { page , HoTenSearch  = searchModel.HoTenSearch,   SDTNVSearch  = searchModel.SDTNVSearch,  ChuyenKhoaSearch  = searchModel.ChuyenKhoaSearch   }), PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(pageRender, new AjaxOptions() { HttpMethod = "GET", UpdateTargetId = "nameListContainer" }))
    </div>
   



</div>






