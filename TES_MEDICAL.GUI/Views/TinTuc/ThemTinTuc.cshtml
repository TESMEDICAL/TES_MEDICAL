
@model TES_MEDICAL.GUI.Models.TinTuc
@{
    ViewData["Title"] = "ThemBaiViet";
    Layout = "~/Views/Shared/LayoutAdmin/LayoutAdmin.cshtml";
}



<div class="p-5">
    <div class="block">
        <h4 style="text-align:center; font-weight:bold">THÊM BÀI VIẾT MỚI</h4>
        <br />
        <form class="row g-3"  asp-action="ThemTinTuc" asp-controller="TinTuc" method="post">
            <div class="col-md-4">
                <label class="form-label">Tiêu đề</label>
                <input type="text" asp-for="TieuDe" class="form-control">
            </div>
            <div class="form-group col-md-4">
                @Html.LabelFor(model => model.MaTL, "Thể loại", htmlAttributes: new { @class = "control-label col-12" })
                <div class="col-12">
                    
                    @Html.DropDownList("MaTL", null, htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.MaTL, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="col-md-4">
                <label class="form-label">Trạng thái</label>
                <div class="form-check">
                    <input asp-for="TrangThai" class="form-check-input" type="checkbox" id="gridCheck">
                    <label class="form-check-label" for="gridCheck">
                        Đang hoạt động
                    </label>
                </div>
            </div>
            <div class="col-12">
                <label class="form-label">Nội dung bài viết</label>
                <textarea asp-for="NoiDung" rows="100" class="form-control" placeholder="Nhập nội dung ..."></textarea>
            </div>
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button class="btn btn-success" type="submit"><i class="fas fa-save"></i> Xác nhận</button>
                <button type="submit" class="btn btn-success"><i class="fas fa-close"></i> Đóng</button>
            </div>
        </form>
    </div>

</div>

@section scripts{ 
    <script src="https://cdn.ckeditor.com/ckeditor5/30.0.0/classic/ckeditor.js"></script>
@*<script src="~/ckeditor/adapters/jquery.js"></script>
<script type="text/javascript" src="~/ckfinder/ckfinder.js"></script>*@
<script>
    

    ClassicEditor
        .create(document.querySelector('#NoiDung'))
        .catch(error => {
            console.error(error);
        });
    /*CKFinder.setupCKEditor(null, '/ckfinder');*/
</script>
@*<script>
    $("#NoiDung").ckeditor();
    CKEDITOR.editorConfig = function (config) {
        config.width = '1000px';
        config.height = '700px';
    };

    CKEDITOR.replace('textarea's name', {
            customConfig: '/js/CustomConfig.js'
        });
</script>*@



<script>
    $(document).ready(
        function () {

            $('.sidebar-mini').addClass("sidebar-collapse");

            //$("#btSave").click(function () {
            //    var obj = $("#frm").serializeObject();


            //    $.ajax({
            //        type: "POST",
            //        url: "/TinTuc/Add",
            //        data: obj,
            //        success: function (result) {
            //            $('#preloader-wrapper').toggleClass('hide');
            //            if (result.status >= 1) {

            //                toastr.success(result.text);
            //                reloadpage(1);
            //            }
            //            else {
            //                toastr.warning(result.text);
            //            }
            //        },
            //        error: function (errormessage) {
            //            alert(errormessage.responseText);
            //        },
            //        failure: function (message) {
            //            $('#preloader-wrapper').toggleClass('hide');
            //        }
            //    });
    });

    
</script>
}
